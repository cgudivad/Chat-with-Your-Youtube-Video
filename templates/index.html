<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Chat with Your Youtube Video</title>
  <link rel="icon" type="image/png" sizes="32x32" href="{{ url_for('static', filename= 'images/favicon.png') }}">
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename= 'css/styles.css') }}" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="{{ url_for('static', filename= 'js/scripts.js') }}"></script>
</head>

<body>
  <div class="container rounded-4 shadow-lg py-4 mx-auto my-4">
    <div class="mx-4">
      <img class="mx-auto d-block banner" src="{{ url_for('static', filename= 'images/logo.svg') }}"
        alt="WebApp Logo" />
      <div id="displayMessageDiv" class="alert alert-dismissible text-center fade show p-2 my-3" style="display:none;">
        <button type="button" class="btn-close pt-1"></button>
        <b id="displayMessage"></b>
      </div>

      <form>
        <div class="form-check form-switch float-end">
          <input class="form-check-input" type="checkbox" id="darkModeSwitch" name="darkmode" checked>
          <label class="form-check-label" for="darkModeSwitch"><b>Dark Mode</b></label>
        </div>

        <div class="my-2">
          <div class="ms-2 mb-1 d-flex align-items-center">
            <img class="label-img url-img" src="{{ url_for('static', filename= 'images/url.svg') }}" alt="URL Icon" />
            <label class="form-label ms-1 mb-0" for="url"><b>Youtube URL</b></label>
          </div>
          <input class="form-control border-2 border-secondary" type="text" id="url" name="url"
            placeholder="Enter Youtube URL" value="{{session['url']}}" />
        </div>
        <div class="d-flex justify-content-center">
          <button class="btn btn-primary" id="loadButton" name="action" value="load"><b>Load</b></button>
        </div>
        <div class="mb-2">
          <div class="ms-1 mb-1 d-flex align-items-center">
            <img class="label-img prompt-img" src="{{ url_for('static', filename= 'images/prompt.png') }}"
              alt="Question Icon" />
            <label class="form-label ms-1 mb-0" for="prompt"><b>Prompt</b></label>
          </div>
          <textarea class="form-control textarea border-2 border-secondary" id="prompt" name="prompt"
            placeholder="Enter Your Prompt">{{session['prompt']}}</textarea>
        </div>
        <div class="row">
          <div class="d-flex justify-content-center">
            <select class="form-select border-2 border-secondary float-end mx-4" id="model" name="model">
              <option value="gpt-3.5-turbo" {% if session["model"]=="gpt-3.5-turbo" %} selected {% endif %}>GPT 3.5
              </option>
              <option value="gpt-4-turbo-preview" {% if session["model"]=="gpt-4-turbo-preview" %} selected {% endif %}>
                GPT 4</option>
            </select>
            <button class="btn btn-primary font-weight-bold float-start mx-4" id="generateButton" name="action"
              value="generate"><b>Generate</b></button>
          </div>
        </div>
        <div id="responseDiv" style="display: none;">
          <div class="ms-1 mb-1 d-flex align-items-center">
            <img class="label-img response-img" src="{{ url_for('static', filename= 'images/response.png') }}"
              alt="Answer Icon" />
            <label class="form-label ms-1 mb-0"><b>Response</b></label>
          </div>
          <pre class="form-control border-2 border-secondary" id="response" name="response"
            style="white-space: pre-wrap; font-family: sans-serif;"></pre>

        </div>
      </form>
    </div>
  </div>


</body>

</html>